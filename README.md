# GeoWarns API

GeoWarns - —ç—Ç–æ —Å–∏—Å—Ç–µ–º–∞ –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –∏–Ω—Ü–∏–¥–µ–Ω—Ç–æ–≤ –∏ –æ–ø–æ–≤–µ—â–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –æ –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã—Ö —É–≥—Ä–æ–∑–∞—Ö.

## üõ† –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

1. –ö–ª–æ–Ω–∏—Ä—É–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –∏ –ø–µ—Ä–µ–π–¥–∏ –≤ –ø–∞–ø–∫—É: \
    git clone https://github.com/Sanusasaas/geo-warns \
    cd geowarns
2. –ó–∞–ø—É—Å—Ç–∏ –ø—Ä–æ–µ–∫—Ç:
    docker-compose up --build
–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ –Ω–∞ http://localhost:8080

## üöÄ API –≠–Ω–¥–ø–æ–∏–Ω—Ç—ã

### üìç –ò–Ω—Ü–∏–¥–µ–Ω—Ç—ã
   –ú–µ—Ç–æ–¥  | –ü—É—Ç—å                     | –û–ø–∏—Å–∞–Ω–∏–µ                                 |
 |--------|--------------------------|------------------------------------------|
 | POST   | `/api/v1/incidents`      | –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –∏–Ω—Ü–∏–¥–µ–Ω—Ç–∞                |
 | GET    | `/api/v1/incidents`      | –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –≤—Å–µ—Ö –∏–Ω—Ü–∏–¥–µ–Ω—Ç–æ–≤         |
 | GET    | `/api/v1/incidents/:id`  | –ü–æ–ª—É—á–µ–Ω–∏–µ –∏–Ω—Ü–∏–¥–µ–Ω—Ç–∞ –ø–æ ID                |
 | PUT    | `/api/v1/incidents/:id`  | –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–Ω—Ü–∏–¥–µ–Ω—Ç–∞ –ø–æ ID               |
 | DELETE | `/api/v1/incidents/:id`  | –£–¥–∞–ª–µ–Ω–∏–µ –∏–Ω—Ü–∏–¥–µ–Ω—Ç–∞ –ø–æ ID                 |
 | GET    | `/api/v1/incidents/stats`| –ü–æ–ª—É—á–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –ø–æ –∏–Ω—Ü–∏–¥–µ–Ω—Ç–∞–º       |

### üåç –ú–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ
 | –ú–µ—Ç–æ–¥  | –ü—É—Ç—å                         | –û–ø–∏—Å–∞–Ω–∏–µ                                 |
 |--------|------------------------------|------------------------------------------|
 | POST   | `/api/v1/location/check`     | –ü—Ä–æ–≤–µ—Ä–∫–∞ –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è     |
 | GET    | `/api/v1/location`           | –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –≤—Å–µ—Ö –ø—Ä–æ–≤–µ—Ä–æ–∫           |
 | GET    | `/api/v1/location/:id`       | –ü–æ–ª—É—á–µ–Ω–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–æ ID                 |

### üîó –í–µ–±—Ö—É–∫–∏
 | –ú–µ—Ç–æ–¥  | –ü—É—Ç—å                     | –û–ø–∏—Å–∞–Ω–∏–µ                                 |
 |--------|--------------------------|------------------------------------------|
 | POST   | `/webhook`               | –û–±—Ä–∞–±–æ—Ç–∫–∞ –≤—Ö–æ–¥—è—â–∏—Ö –≤–µ–±—Ö—É–∫–æ–≤              |
 | GET    | `/health`                | –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è —Å–µ—Ä–≤–∏—Å–∞ –≤–µ–±—Ö—É–∫–æ–≤      |

### –ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤

## –ò–Ω—Ü–∏–¥–µ–Ω—Ç—ã

**–°–æ–∑–¥–∞–Ω–∏–µ –∏–Ω—Ü–∏–¥–µ–Ω—Ç–∞:**
```bash
curl -X POST http://localhost:8080/api/v1/incidents \
  -H "Content-Type: application/json" \
  -d '{
    "title": "Test Incident",
    "description": "This is a test incident description",
    "latitude": 55.7558,
    "longitude": 37.6173,
    "radius": 1000
  }'
```

**–ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–∫–∞—Ü–∏–∏:**
```bash
curl -X POST http://localhost:8080/api/v1/location/check \
  -H "Content-Type: application/json" \
  -d '{
    "user_id": "test_user_123",
    "latitude": 55.7558,
    "longitude": 37.6173
  }'
```

**–ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –∏–Ω—Ü–∏–¥–µ–Ω—Ç–æ–≤:**
```bash
curl http://localhost:8080/api/v1/incidents  
```

**–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–Ω—Ü–∏–¥–µ–Ω—Ç–∞:**
```bash
curl -X PUT http://localhost:8080/api/v1/incidents/1 \
  -H "Content-Type: application/json" \
  -d '{
    "title": "–û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π –∏–Ω—Ü–∏–¥–µ–Ω—Ç",
    "description": "–û–±–Ω–æ–≤–ª–µ–Ω–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ",
    "is_active": false
  }'
```

**–£–¥–∞–ª–µ–Ω–∏–µ –∏–Ω—Ü–∏–¥–µ–Ω—Ç–∞:**
```bash
curl -X DELETE http://localhost:8080/api/v1/incidents/1
```

**–ü–æ–ª—É—á–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –ø–æ –∏–Ω—Ü–∏–¥–µ–Ω—Ç–∞–º:**
```bash
curl http://localhost:8080/api/v1/incidents/stats
```

## –õ–æ–∫–∞—Ü–∏—è

**–ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–∫–∞—Ü–∏–∏:**
```bash
curl -X POST http://localhost:8080/api/v1/location/check \
  -H "Content-Type: application/json" \
  -d '{
    "user_id": "user123",
    "latitude": 55.7558,
    "longitude": 37.6173
  }'
```

**–ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –ø—Ä–æ–≤–µ—Ä–æ–∫:**
```bash
curl http://localhost:8080/api/v1/location
```

**–ü–æ–ª—É—á–µ–Ω–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–æ ID:**
```bash
curl http://localhost:8080/api/v1/location/1
```

## –í–µ–±—Ö—É–∫–∏

**–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è —Å–µ—Ä–≤–∏—Å–∞ –≤–µ–±—Ö—É–∫–æ–≤:**
```bash
curl http://localhost:9090/health
```

**–û—Ç–ø—Ä–∞–≤–∫–∞ –≤–µ–±—Ö—É–∫–∞:**
```bash
curl -X POST http://localhost:9090/webhook \
  -H "Content-Type: application/json" \
  -d '{
    "incident_id": 1,
    "user_id": "user123",
    "data": {
      "message": "–¢–µ—Å—Ç–æ–≤—ã–π –≤–µ–±—Ö—É–∫"
    }
  }'
```